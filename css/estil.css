/* =========================================
   1. VARIABLES
   ========================================= */
:root {
    --brand-blue: #004B87;
    --brand-red: #cc0000; /* Rojo más oscuro tipo captura */
    
    --bg-body: #f5f7fa;
    --bg-card: #ffffff;
    --text-main: #333;
    --text-muted: #666;
    --border-color: #e5e7eb;
    
    /* Colores específicos de la captura */
    --nav-active-bg: #003366; /* Azul muy oscuro para números activos */
    --nav-active-text: #fff;
    --nav-inactive-bg: #f8f9fa;
    --nav-inactive-text: #666;
}

[data-theme="dark"] {
    --bg-body: #121212;
    --bg-card: #1e1e1e;
    --text-main: #e0e0e0;
    --text-muted: #aaa;
    --border-color: #333;
    --nav-active-bg: #4a90e2;
    --nav-inactive-bg: #333;
    --nav-inactive-text: #ccc;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
body { font-family: 'Segoe UI', sans-serif; background: var(--bg-body); color: var(--text-main); }

/* LOGIN (Se mantiene igual) */
.login-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100vh; background: #0f172a; z-index: 9999; display: flex; justify-content: center; align-items: center; }
.login-card { background: #fff; padding: 40px; border-radius: 8px; width: 400px; text-align: center; }
.login-logo { max-width: 200px; margin-bottom: 20px; }
.input-group { margin-bottom: 15px; text-align: left; }
.input-group input { width: 100%; padding: 10px; border: 1px solid #ccc; border-radius: 4px; }
.btn-login { width: 100%; padding: 10px; background: var(--brand-blue); color: #fff; border: none; border-radius: 4px; cursor: pointer; margin-top: 10px; }
.login-footer, .register-section { margin-top: 15px; font-size: 0.9rem; }

/* =========================================
   HEADER (Tipo Captura)
   ========================================= */
.app-header {
    background: var(--bg-card);
    height: 70px;
    padding: 0 30px;
    display: flex; justify-content: space-between; align-items: center;
    border-top: 4px solid var(--brand-red); /* Borde rojo arriba */
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.header-logo { height: 40px; }
.header-right { display: flex; align-items: center; gap: 20px; }

.user-pill {
    border: 1px solid #ddd; padding: 5px 15px; border-radius: 4px; /* Más cuadrado */
    display: flex; gap: 10px; align-items: center; font-size: 0.9rem;
}
.btn-logout-text { background: none; border: none; cursor: pointer; color: #333; }
.btn-icon { background: none; border: none; cursor: pointer; font-size: 1.1rem; }

/* =========================================
   LAYOUT EXAMEN
   ========================================= */
.main-layout { max-width: 1400px; margin: 0 auto; padding: 20px; }

.course-main-title { margin-bottom: 20px; }
#curs-titol { color: var(--brand-blue); font-size: 1.8rem; font-weight: 700; }
.curs-subtitol { color: var(--text-muted); font-size: 1rem; margin-top: 5px; }

.exam-layout { display: flex; gap: 25px; align-items: flex-start; }

/* CAJAS BLANCAS COMUNES */
.card-white {
    background: var(--bg-card);
    border: 1px solid #e5e7eb; /* Borde muy sutil */
    border-radius: 4px; /* Bordes poco redondeados, más profesional */
    padding: 20px;
    box-shadow: 0 1px 2px rgba(0,0,0,0.03);
}

/* SIDEBAR IZQUIERDA */
.exam-sidebar-left { width: 250px; position: sticky; top: 20px; }
.sidebar-header {
    color: var(--brand-blue); font-size: 1rem; font-weight: 700;
    border-bottom: 1px solid #eee; padding-bottom: 10px; margin-bottom: 15px;
}
.btn-back-simple {
    display: inline-block; padding: 8px 15px; background: #f3f4f6; color: #333;
    border: 1px solid #ddd; border-radius: 4px; font-size: 0.85rem;
}

/* CENTRO: PREGUNTAS (Diseño Plano) */
.exam-center { flex: 1; min-width: 0; padding-bottom: 40px; }

.question-block {
    margin-bottom: 30px;
    /* NO tiene fondo ni borde propio, es parte del documento */
}

.question-text {
    font-weight: 600; font-size: 1.1rem; margin-bottom: 15px;
    color: var(--text-main);
}

/* Opciones (Radio Buttons) */
.option-label {
    display: flex; align-items: center;
    padding: 10px 15px; margin-bottom: 8px;
    border: 1px solid #e5e7eb; border-radius: 4px;
    background: #fff; cursor: pointer;
    transition: all 0.1s;
}
.option-label:hover { border-color: #ccc; }
.option-label input { margin-right: 10px; }

/* Estilos de Corrección */
.option-label.correct { background: #d1e7dd; border-color: #badbcc; color: #0f5132; }
.option-label.wrong { background: #f8d7da; border-color: #f5c6cb; color: #842029; }
.explanation { display: none; margin-top: 10px; padding: 15px; background: #f8f9fa; border-left: 4px solid var(--brand-blue); }

/* BOTÓN ENTREGAR (El Grande Rojo) */
#btn-corregir-total {
    display: block; width: 100%;
    background-color: #b91c1c; /* Rojo oscuro intenso */
    color: white; font-size: 1rem; font-weight: 600;
    padding: 12px; border: none; border-radius: 4px;
    cursor: pointer; margin-top: 30px;
    text-transform: uppercase; letter-spacing: 0.5px;
}
#btn-corregir-total:hover { background-color: #991b1b; }

/* SIDEBAR DERECHA */
.exam-sidebar-right { width: 260px; position: sticky; top: 20px; }

/* GRID DE NAVEGACIÓN (Cuadraditos) */
.quiz-status-grid {
    display: grid; grid-template-columns: repeat(5, 1fr); gap: 8px;
}
/* Los items que genera el JS (que son <a> o <div>) */
.quiz-nav-item, .quiz-status-grid > * {
    aspect-ratio: 1;
    display: flex; justify-content: center; align-items: center;
    background: #fff; border: 1px solid #e5e7eb; border-radius: 4px;
    font-size: 0.9rem; color: #666; cursor: pointer;
    text-decoration: none;
}
/* Estado activo/respondido */
.quiz-nav-item.active, .quiz-status-grid > *.active {
    background-color: #003366; /* Azul oscuro FEPOL */
    color: white; border-color: #003366;
}
.quiz-nav-item:hover { border-color: #999; }

/* MODO OSCURO */
[data-theme="dark"] .card-white { background: #1e1e1e; border-color: #333; }
[data-theme="dark"] .option-label { background: #2a2a2a; border-color: #444; }
[data-theme="dark"] #btn-corregir-total { background-color: #d32f2f; }